<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Unlock the Surprise âœ¨</title>
  
  <style>
 :root{ 
      /* SKY BLUE background */
      --sky1:#bfe9ff;
      --sky2:#78d6ff;
      --sky3:#4aa9ff;
   
   --bg1: #bfe9ff;
   --bg2: #78d6ff;
   --bg3: #4aa9ff;


  .hint{
  color:#7dd3c7 !important;
  font-weight:700;
  }


   /* UI */
      --card: rgba(4, 22, 56, 0.92);
      --cardBorder: rgba(56,189,248,.35);
      --text: #eaf6ff;
      --muted: rgba(234,246,255,.78);

      --accent:#2563eb;
      --accent2:#38bdf8;

      --ok:#22c55e;
      --bad:#ef4444;

      --shadow: 0 20px 60px rgba(0,0,0,.25);
      --radius: 20px;
    }

    *{box-sizing:border-box}
    *{box-sizing:border-box}
    
    body{
      margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text);
  min-height:100vh;
  background:
    radial-gradient(1200px 800px at 15% 15%, var(--bg2), transparent 60%),
    radial-gradient(1200px 800px at 85% 25%, var(--bg1), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg3));
  overflow-x:hidden;
}

    .wrap{max-width:980px;margin:0 auto;padding:18px}
    .card{
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,.7);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:18px;
      position: relative;
      z-index: 10;
    }
    .center{display:flex;align-items:center;justify-content:center}
    .stack{display:grid;gap:14px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    h1,h2,h3{margin:0}
    p{margin:0;line-height:1.6;color:var(--muted)}
    .pill{
      display:inline-flex;gap:8px;align-items:center;
      padding:8px 12px;border-radius:999px;
      background:linear-gradient(90deg, rgba(255,77,166,.15), rgba(124,58,237,.12));
      border:1px solid rgba(255,77,166,.25);
      font-weight:600;color:#3a2a3a;
    }
    .btn{
      border:none;
      padding:12px 14px;
      border-radius:14px;
      font-weight:700;
      cursor:pointer;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      color:white;
      box-shadow: 0 12px 30px rgba(255,77,166,.25);
      transform: translateY(0);
      transition:.2s ease;
    }
    .btn:active{transform: translateY(1px)}
    .btn.secondary{
      background: rgba(255,255,255,.65);
      color: var(--text);
      border:1px solid rgba(0,0,0,.08);
      box-shadow:none; 
    }
    .input{
      width:100%;
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.12);
      background: rgba(255,255,255,.7);
      font-size:16px;
      outline:none;
    }
    .hint{font-size:13px;color:var(--muted)}
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:12px;
      border:1px dashed rgba(0,0,0,.18);
      background: rgba(255,255,255,.55);
      font-size:13px;
    }

    /* Cute floating stickers */
   /* Floating stickers */
.floaters{
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 1;
}

.floater{
  position: absolute;
  width: 80px;      /* change size here */
  height: auto;
  opacity: 0.9;
  animation: floatUp 10s linear infinite;
}

@keyframes floatUp{
  from{
    transform: translateY(110vh) scale(0.9);
    opacity: 0.95;
  }
  to{
    transform: translateY(-20vh) scale(1.1);
    opacity: 0;
  }
}


    /* Stepper */
    .steps{display:flex;gap:10px;flex-wrap:wrap}
    .step{
      flex:1;min-width:180px;
      padding:12px;border-radius:16px;
      border:1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.55);
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .step strong{display:block}
    .dot{
      width:12px;height:12px;border-radius:50%;
      background: rgba(0,0,0,.15);
    }
    .step.done .dot{background: var(--ok)}
    .step.active{border-color: rgba(255,77,166,.35); box-shadow: 0 10px 24px rgba(255,77,166,.12)}
    .msg{font-weight:700}
    .msg.ok{color:var(--ok)}
    .msg.bad{color:var(--bad)}

    /* Puzzle grid */
    .puzzle{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:8px;
      max-width:420px;
      margin:0 auto;
      user-select:none;
      touch-action: manipulation;
    }
    .tile{
      aspect-ratio: 1/1;
      border-radius:16px;
      border:1px solid rgba(0,0,0,.08);
      background-size: 300% 300%;
      background-repeat:no-repeat;
      box-shadow: 0 10px 20px rgba(0,0,0,.08);
      cursor:grab;
      transition: transform .12s ease;
    }
    .tile:active{cursor:grabbing; transform: scale(.98)}
    .tile.selected{outline:3px solid rgba(255,77,166,.45)}

    /* Memory game */
    .memory{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
      max-width:520px;
      margin:0 auto;
    }
    .mcard{
      aspect-ratio: 1/1;
      border-radius:18px;
      border:1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.55);
      display:flex;align-items:center;justify-content:center;
      font-size:28px;
      box-shadow: 0 10px 20px rgba(0,0,0,.08);
      cursor:pointer;
      transition: transform .12s ease;
    }
    .mcard:active{transform: scale(.98)}
    .mcard.revealed{background: rgba(255,77,166,.12); border-color: rgba(255,77,166,.25)}
    .mcard.matched{background: rgba(34,197,94,.12); border-color: rgba(34,197,94,.25)}

    /* Reveal page */
    #surprise{display:none}
    .hero{
      padding:28px 18px;
      border-radius: 26px;
      background: linear-gradient(120deg, rgba(255,77,166,.18), rgba(124,58,237,.14));
      border:1px solid rgba(255,255,255,.8);
      box-shadow: var(--shadow);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .hero h1{font-size:34px}
    .hero h2{font-size:18px;color:var(--muted);font-weight:600;margin-top:8px}
    /* ===== HERO HEADER COLOR ===== */
.heroTitle{
  font-weight: 800;
  color: #0a1f44; /* navy blue */
  text-shadow: 0 3px 10px rgba(0,0,0,.2);
}

#personName{
  color: #13294b;
  font-weight: 900;
}
    .sparkle{
      position:absolute; inset:-40px;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,255,255,.7), transparent 30%),
        radial-gradient(circle at 80% 30%, rgba(255,255,255,.6), transparent 35%),
        radial-gradient(circle at 40% 80%, rgba(255,255,255,.5), transparent 32%);
      animation: shimmer 6s ease-in-out infinite;
      opacity:.55;
    }
    @keyframes shimmer{
     }
    <img src="photo.jpg" class="photoBig">
    .photoBig{
      width:100%;
      max-height:420px;
      object-fit:cover;
      border-radius:22px;
      border:1px solid rgba(255,255,255,.8);
      box-shadow: var(--shadow);
    }
    }
    .fadeIn{animation: fade .7s ease both}
    @keyframes fade{from{opacity:0;transform: translateY(10px)} to{opacity:1;transform:none}}

    @media (max-width:520px){
      .hero h1{font-size:28px}
      .memory{grid-template-columns: repeat(3, 1fr)}
    }
    

  </style>
</head>
<body>
  <div class="floaters" id="floaters"></div> 

  <div class="wrap stack">
    <div class="card stack fadeIn" id="lock">
      <div class="row" style="justify-content:space-between">
        <span class="pill">ðŸ”’ Locked Surprise</span>
      </div>

      <h1> Enter by unlocking 3 steps âœ¨</h1>
      <p> Let's see if you've become smart enough to crack the surprise! ðŸ˜€ </p>

      <div class="steps">
        <div class="step active" id="s1"><div><strong>Step 1: </strong><small>Question</small></div><div class="dot"></div></div>
        <div class="step" id="s2"><div><strong>Step 2: </strong><small>Photo puzzle</small></div><div class="dot"></div></div>
        <div class="step" id="s3"><div><strong>Step 3: </strong><small>Mini game</small></div><div class="dot"></div></div>
      </div>

      <!-- Step 1 -->
      <div class="card stack" id="step1" style="background:rgba(255,255,255,.55)">
        <h2>Step 1: Answer this ðŸ’Œ</h2>
        <p class="hint">
          Not a person, not a date, <br>
          But a place where our story began. <br>
          Where was it? 
        </p>
        <input class="input" id="answer" placeholder="Type the answer..." />
        <div class="row" style="justify-content:space-between">
          <span id="msg1" class="msg"></span>
          <button class="btn" id="btn1">Check</button>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="card stack" id="step2" style="display:none;background:rgba(255,255,255,.55)">
        <h2>Step 2: Fix the photo puzzle ðŸ§©</h2>
        <p class="hint">Tap two tiles to swap until the image looks correct.</p>
        <div class="puzzle" id="puzzle"></div>
        <div class="row" style="justify-content:space-between">
          <span id="msg2" class="msg"></span>
          <button class="btn secondary" id="shuffle">Shuffle</button>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="card stack" id="step3" style="display:none;background:rgba(255,255,255,.55)">
        <h2>Step 3: Match the pairs ðŸŽ´</h2>
        <p class="hint">Match all pairs to unlock the surprise.</p>
        <div class="memory" id="memory"></div>
        <div class="row" style="justify-content:space-between">
          <span id="msg3" class="msg"></span>
          <button class="btn secondary" id="resetMem">Reset</button>
        </div>
      </div>

      <div class="row" style="justify-content:flex-end">
        <button class="btn" id="open" style="display:none"> Last but not the leastðŸ’• </button>
      </div>
    </div>

    <!-- Surprise page -->
    <d<div id="surprise" class="stack fadeIn">
      <div class="hero">
        <div class="sparkle"></div>
      <h1>Happiest Birthday, <span id="personName"> my love! </span> ðŸ¥¹ðŸ’—</h1>
        <h2 id="subtitle"> Knew you'd find the solution, the way you always do ðŸ’Œ </h2>
      </div>

      <img class="photoBig" id="mainPhoto" src="photo.jpg" alt="Main photo"/>

      <div class="card stack">
        <h2> A Letter Full of Naked Truths </h2>
        <p id="longText">
          Replace this paragraph with your long message. Write something sweet, funny, emotional â€” anything.
          You can add memories, gratitude, wishes, and future plans. Keep it personal and warm.
        </p>
      </div>

    </div>
  </div>

  <canvas id="confetti" style="position:fixed;inset:0;pointer-events:none"></canvas>

  <script>
    /***************
     * Customize here
     ***************/
    const CONFIG = {
      // Step 1 correct answer (case-insensitive)
      answer: "segafredo",

      // Names/text on reveal
      personName: "Towhidul Islam",
      subtitle: "24th it is!",
      longText: Dear Sakib,

Happiest Birthday, my love! 

I have a lot to say, but again I don't. Because every time you seem to make me express everything that I don't want to. As I always say, I never intended to fall in love, not then, not now, but here I am again. You always had a way, you still do. I can never comprehend how you have become this mature as a man. But again, I hope you won't appear mature and strong all the time, even if it's breaking you. Just know, even if I say I don't want to be with you, there's no other place where I want to be other than your arms. You will always be my safe place. And for a fact I wan to be yours as well. No matter how tough life gets, I hope you'll remember that I'll always be there, cheering for you. I don't even care what other people think at this point; the only thing that I'm concerned about is how long I have to wait until I can introduce myself as your wife. Oh lord! It sounded so cliche but again, truths are always like this.

However, do know I appreciate every smallest gesture that you do. Thank you so much for existing, Sakib. Thank you so much for loving me and giving me the chance to love you again. Thank you for always being the most perfect and the bestest partner. 

And from the bottom of my heart, again,
Sakib, I love you the most. More than anyone and anything ðŸ’“

Best Regards,
Your wife,
Afla



      // Puzzle image (use a clear photo)
      puzzleImage: "puzzle.jpg",

      // Memory game emojis (pairs will be created)
      memoryIcons: ["ðŸ•", "ðŸ˜š","ðŸ‹â€â™‚ï¸","â„ï¸","ðŸŽ‚","ðŸ¦–","ðŸ§¸"]
    };

    /***************
     * Cute floating hearts
     ***************/

    const stickerImages = [
    "bat.png",
    "batman.png",
    "rspider.png",
    "spidey.png"
  ];


  const floatersBox = document.getElementById("floaters");

  function spawnSticker(){
    const img = document.createElement("img");
    img.src = stickerImages[Math.floor(Math.random() * stickerImages.length)];
    img.className = "floater";

    // random position
    img.style.left = Math.random() * 100 + "vw";

    // random size (optional)
    const size = 60 + Math.random() * 50; // 60px to 110px
    img.style.width = size + "px";

    // random speed (optional)
    const duration = 8 + Math.random() * 8; // 8s to 16s
    img.style.animationDuration = duration + "s";

     const finalSection = document.querySelector('.letter-section');

  if(finalSection){
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if(entry.isIntersecting){
          clearInterval(stickerInterval);
        }
      });
    });

    observer.observe(finalSection);
  }

    // random delay
    img.style.animationDelay = (Math.random() * 2) + "s";

    floatersBox.appendChild(img);

    // remove sticker after animation ends (prevents lag)
    setTimeout(() => img.remove(), (duration + 2) * 1000);
  }

  // create stickers continuously
 window.stickerInterval = setInterval(spawnSticker, 800);


    /***************
     * Steps state
     ***************/
    const s1 = document.getElementById("s1");
    const s2 = document.getElementById("s2");
    const s3 = document.getElementById("s3");

    const step1 = document.getElementById("step1");
    const step2 = document.getElementById("step2");
    const step3 = document.getElementById("step3");

    const msg1 = document.getElementById("msg1");
    const msg2 = document.getElementById("msg2");
    const msg3 = document.getElementById("msg3");

    const openBtn = document.getElementById("open");

    function setActive(which){
      [s1,s2,s3].forEach(x=>x.classList.remove("active"));
      which.classList.add("active");
    }
    function markDone(which){
      which.classList.add("done");
      which.classList.remove("active");
    }

    /***************
     * Step 1: question
     ***************/
    document.getElementById("btn1").addEventListener("click", ()=>{
      const val = (document.getElementById("answer").value || "").trim().toLowerCase();
      if(!val){
        msg1.textContent = "Type something ðŸ™‚";
        msg1.className = "msg bad";
        return;
      }
      if(val === CONFIG.answer.toLowerCase()){
        msg1.textContent = "Correct! âœ…";
        msg1.className = "msg ok";
        markDone(s1);
        step2.style.display = "block";
        setActive(s2);
        step1.style.display = "none";
      } else {
        msg1.textContent = "Nopeâ€¦ try again ðŸ˜¼";
        msg1.className = "msg bad";
      }
    });

    /***************
     * Step 2: tap-to-swap tile puzzle (3x3)
     ***************/
    const puzzleEl = document.getElementById("puzzle");
    const size = 3;
    let order = [...Array(size*size).keys()];
    let selected = null;

    function renderPuzzle(){
      puzzleEl.innerHTML = "";
      order.forEach((idx, pos)=>{
        const tile = document.createElement("div");
        tile.className = "tile";
        const row = Math.floor(idx/size);
        const col = idx%size;

        tile.style.backgroundImage = `url('${CONFIG.puzzleImage}')`;
        tile.style.backgroundPosition = `${(col/(size-1))*100}% ${(row/(size-1))*100}%`;
        tile.style.backgroundSize = `${size*100}% ${size*100}%`;

        tile.addEventListener("click", ()=>{
          if(selected === null){
            selected = pos;
            tile.classList.add("selected");
          } else {
            // swap
            const tmp = order[selected];
            order[selected] = order[pos];
            order[pos] = tmp;
            selected = null;
            renderPuzzle();
            checkPuzzle();
          }
        });

        puzzleEl.appendChild(tile);
      });
    }

    function shufflePuzzle(){
      // make a shuffled order (ensure not already solved)
      order = [...Array(size*size).keys()].sort(()=>Math.random()-0.5);
      if(isSolved()) shufflePuzzle();
      selected = null;
      msg2.textContent = "";
      renderPuzzle();
    }
    function isSolved(){
      return order.every((v,i)=>v===i);
    }
    function checkPuzzle(){
      if(isSolved()){
        msg2.textContent = "Puzzle solved! ðŸ§©âœ…";
        msg2.className = "msg ok";
        markDone(s2);
        step3.style.display = "block";
        setActive(s3);
        step2.style.display = "none";
        initMemory();
      }
    }

    document.getElementById("shuffle").addEventListener("click", shufflePuzzle);

    // init puzzle
    shufflePuzzle();

    /***************
     * Step 3: memory match
     ***************/
    const memoryEl = document.getElementById("memory");
    let memDeck = [];
    let firstPick = null;
    let lockPick = false;
    let matchedCount = 0;

    function initMemory(){
      const icons = CONFIG.memoryIcons.slice(0,6); // 6 pairs default
      memDeck = [...icons, ...icons].sort(()=>Math.random()-0.5);
      matchedCount = 0;
      firstPick = null;
      lockPick = false;
      msg3.textContent = "";
      renderMemory();
    }

    function renderMemory(){
      memoryEl.innerHTML = "";
      memDeck.forEach((icon, i)=>{
        const c = document.createElement("div");
        c.className = "mcard";
        c.dataset.index = i;
        c.dataset.icon = icon;
        c.textContent = "â”";

        c.addEventListener("click", ()=>{
          if(lockPick) return;
          if(c.classList.contains("matched")) return;
          if(c.classList.contains("revealed")) return;

          c.classList.add("revealed");
          c.textContent = icon;

          if(firstPick === null){
            firstPick = c;
          } else {
            // second pick
            const secondPick = c;
            if(firstPick.dataset.icon === secondPick.dataset.icon){
              firstPick.classList.add("matched");
              secondPick.classList.add("matched");
              firstPick.classList.remove("revealed");
              secondPick.classList.remove("revealed");
              matchedCount += 2;
              firstPick = null;

              if(matchedCount === memDeck.length){
                msg3.textContent = "All matched! ðŸŽ‰";
                msg3.className = "msg ok";
                markDone(s3);
                openBtn.style.display = "inline-block";
                confettiBurst();
              }
            } else {
              lockPick = true;
              setTimeout(()=>{
                firstPick.classList.remove("revealed");
                secondPick.classList.remove("revealed");
                firstPick.textContent = "â”";
                secondPick.textContent = "â”";
                firstPick = null;
                lockPick = false;
              }, 650);
            }
          }
        });

        memoryEl.appendChild(c);
      });
    }

    document.getElementById("resetMem").addEventListener("click", initMemory);

    /***************
     * Reveal
     ***************/
    const surprise = document.getElementById("surprise");
    const lock = document.getElementById("lock");

    openBtn.addEventListener("click", ()=>{
      lock.style.display = "none";
      surprise.style.display = "grid";

      // Fill content
      document.getElementById("personName").textContent = CONFIG.personName;
      document.getElementById("subtitle").textContent = CONFIG.subtitle;
      document.getElementById("longText").textContent = CONFIG.longText;

      document.getElementById("q1").textContent = CONFIG.quotes[0] || "";
      document.getElementById("q2").textContent = CONFIG.quotes[1] || "";
      document.getElementById("q3").textContent = CONFIG.quotes[2] || "";

      document.getElementById("mainPhoto").src = CONFIG.mainPhoto;
      document.getElementById("g1").src = CONFIG.gallery[0];
      document.getElementById("g2").src = CONFIG.gallery[1];
      document.getElementById("g3").src = CONFIG.gallery[2];
      document.getElementById("g4").src = CONFIG.gallery[3];

      confettiBurst();
      window.scrollTo({top:0, behavior:"smooth"});
    });

    /***************
     * Lightweight confetti (no libraries)
     ***************/
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let confetti = [];
    function resize(){
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resize);
    resize();

    function confettiBurst(){
      const n = 180;
      for(let i=0;i<n;i++){
        confetti.push({
          x: Math.random()*canvas.width,
          y: -20 - Math.random()*canvas.height*0.2,
          r: 2 + Math.random()*4,
          vx: -2 + Math.random()*4,
          vy: 2 + Math.random()*5,
          a: Math.random()*Math.PI*2,
          va: -0.2 + Math.random()*0.4,
          life: 80 + Math.random()*80
        });
      }
      animateConfetti();
    }

    let animating = false;
    function animateConfetti(){
      if(animating) return;
      animating = true;

      function tick(){
        ctx.clearRect(0,0,canvas.width, canvas.height);
        confetti = confetti.filter(p => p.life > 0);

        confetti.forEach(p=>{
          p.x += p.vx;
          p.y += p.vy;
          p.a += p.va;
          p.vy += 0.02; // gravity
          p.life -= 1;

          // pastel random-ish
          const hue = (p.x + p.y) % 360;
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.a);
          ctx.fillStyle = `hsla(${hue}, 90%, 70%, 0.9)`;
          ctx.fillRect(-p.r, -p.r, p.r*2, p.r*2);
          ctx.restore();
        });

        if(confetti.length > 0){
          requestAnimationFrame(tick);
        } else {
          animating = false;
          ctx.clearRect(0,0,canvas.width, canvas.height);
        }
      }
      requestAnimationFrame(tick);
    }

    /***************
     * Pre-fill memory at start (hidden until step 3)
     ***************/
    initMemory();

    //<!-- Stop floating stickers when final section appears -->

  //const finalSection = document.getElementById("finalSection");

  //if (finalSection) {
    //const observer = new IntersectionObserver(
     // (entries) => {
       // if (entries[0].isIntersecting) {
         // clearInterval(window.stickerInterval);
         // document.getElementById("floaters").innerHTML = "";
       // }
      //},
     // { threshold: 0.3 }
   // );

   // observer.observe(finalSection);
  //}

  </script>
</body>
</html>
